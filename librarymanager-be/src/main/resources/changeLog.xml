<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:pro="http://www.liquibase.org/xml/ns/pro" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-3.8.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">
    <changeSet author="owle8 (generated)" id="1588065169526-1">
        <createTable tableName="AUTHORS">
            <column name="AUTHOR_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="AUTHORSPK"/>
            </column>
            <column name="BIRTHDATE" type="date"/>
            <column name="DEATHDATE" type="date"/>
            <column name="FIRST_NAME" type="VARCHAR2(255)"/>
            <column name="INFO" type="VARCHAR2(255)"/>
            <column name="PATRONYMIC" type="VARCHAR2(255)"/>
            <column name="SURNAME" type="VARCHAR2(255)"/>
            <column name="VERSION" type="NUMBER(10, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-2">
        <createTable tableName="AUTHOR_EDITION">
            <column name="EDITION_ID" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="AUTHOR_ID" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-3">
        <createTable tableName="BOOKS">
            <column name="BOOK_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="BOOKSPK"/>
            </column>
            <column name="IS_AVAILABLE" type="NUMBER(1, 0)"/>
            <column name="IS_RESERVED" type="NUMBER(1, 0)"/>
            <column name="SHELF_NUMBER" type="NUMBER(10, 0)"/>
            <column name="VERSION" type="NUMBER(10, 0)"/>
            <column name="EDITION_ID" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-4">
        <createTable tableName="BOOK_USINGS">
            <column name="BOOK_USING_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="BOOK_USINGSPK"/>
            </column>
            <column name="END_DATE" type="date"/>
            <column name="START_DATE" type="date"/>
            <column name="VERSION" type="NUMBER(10, 0)"/>
            <column name="BOOK_ID" type="NUMBER(19, 0)"/>
            <column name="READER_ID" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-5">
        <createTable tableName="EDITIONS">
            <column name="EDITION_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="EDITIONSPK"/>
            </column>
            <column name="AGE" type="NUMBER(10, 0)"/>
            <column name="DOWNLOAD_LINK" type="VARCHAR2(255)"/>
            <column name="INFO" type="VARCHAR2(255)"/>
            <column name="IS_ILLUSTRATED" type="NUMBER(1, 0)"/>
            <column name="ISBN" type="VARCHAR2(255)"/>
            <column name="PUBLISHING_YEAR" type="NUMBER(10, 0)"/>
            <column name="TITLE" type="VARCHAR2(255)"/>
            <column name="VERSION" type="NUMBER(10, 0)"/>
            <column name="WORK_TITLE" type="VARCHAR2(255)"/>
            <column name="YEAR" type="NUMBER(10, 0)"/>
            <column name="GENERE_ID" type="NUMBER(19, 0)"/>
            <column name="LANG_ID" type="NUMBER(19, 0)"/>
            <column name="PUPL_LANG_ID" type="NUMBER(19, 0)"/>
            <column name="PUBLISHING_HOUSE_ID" type="NUMBER(19, 0)"/>
            <column name="SECTION_ID" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-6">
        <createTable tableName="GENERES">
            <column name="GENERE_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="GENERESPK"/>
            </column>
            <column name="TITLE" type="VARCHAR2(255)"/>
            <column name="VERSION" type="NUMBER(10, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-7">
        <createTable tableName="LANGS">
            <column name="LANG_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="LANGSPK"/>
            </column>
            <column name="TITLE" type="VARCHAR2(255)"/>
            <column name="VERSION" type="NUMBER(10, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-8">
        <createTable tableName="LIBRARIANS">
            <column name="LIBRARIAN_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="LIBRARIANSPK"/>
            </column>
            <column name="VERSION" type="NUMBER(10, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-9">
        <createTable tableName="ORDERS">
            <column name="ORDER_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="ORDERSPK"/>
            </column>
            <column name="COMPLETE_DATE" type="date"/>
            <column name="ORDER_DATE" type="date"/>
            <column name="ORDER_STATE" type="VARCHAR2(255)"/>
            <column name="VERSION" type="NUMBER(10, 0)"/>
            <column name="EDITION_ID" type="NUMBER(19, 0)"/>
            <column name="READER_ID" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-10">
        <createTable tableName="PUBLISHING_HOUSES">
            <column name="PUBLISHING_HOUSE_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PUBLISHING_HOUSESPK"/>
            </column>
            <column name="LOGO" type="BLOB"/>
            <column name="TITLE" type="VARCHAR2(255)"/>
            <column name="VERSION" type="NUMBER(10, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-11">
        <createTable tableName="READERS">
            <column name="READER_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="READERSPK"/>
            </column>
            <column name="BIRTHDATE" type="date"/>
            <column name="EMAIL" type="VARCHAR2(255)"/>
            <column name="FIRST_NAME" type="VARCHAR2(255)"/>
            <column name="PATRONYMIC" type="VARCHAR2(255)"/>
            <column name="REG_DATE" type="date"/>
            <column name="SURNAME" type="VARCHAR2(255)"/>
            <column name="TELEPHONE" type="VARCHAR2(255)"/>
            <column name="VERSION" type="NUMBER(10, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-12">
        <createTable tableName="SECTIONS">
            <column name="SECTION_ID" type="NUMBER(19, 0)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="SECTIONSPK"/>
            </column>
            <column name="TITLE" type="VARCHAR2(255)"/>
            <column name="VERSION" type="NUMBER(10, 0)"/>
            <column name="PARENT_SECTION_ID" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-13">
        <createIndex indexName="IX_AUTHOR_EDITION" tableName="AUTHOR_EDITION" unique="true">
            <column name="AUTHOR_ID"/>
            <column name="EDITION_ID"/>
        </createIndex>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-14">
        <addPrimaryKey columnNames="AUTHOR_ID, EDITION_ID" forIndexName="IX_null" tableName="AUTHOR_EDITION"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-15">
        <addForeignKeyConstraint baseColumnNames="AUTHOR_ID" baseTableName="AUTHOR_EDITION" constraintName="FK_AUTHOR_EDITION" deferrable="false" initiallyDeferred="false" referencedColumnNames="AUTHOR_ID" referencedTableName="AUTHORS" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-16">
        <addForeignKeyConstraint baseColumnNames="READER_ID" baseTableName="ORDERS" constraintName="FK_READER_ORDER" deferrable="false" initiallyDeferred="false" referencedColumnNames="READER_ID" referencedTableName="READERS" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-17">
        <addForeignKeyConstraint baseColumnNames="PARENT_SECTION_ID" baseTableName="SECTIONS" constraintName="FK_SECTIONS_PARENT_SECTION" deferrable="false" initiallyDeferred="false" referencedColumnNames="SECTION_ID" referencedTableName="SECTIONS" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-18">
        <addForeignKeyConstraint baseColumnNames="LANG_ID" baseTableName="EDITIONS" constraintName="FK_EDITION_LANG" deferrable="false" initiallyDeferred="false" referencedColumnNames="LANG_ID" referencedTableName="LANGS" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-19">
        <addForeignKeyConstraint baseColumnNames="GENERE_ID" baseTableName="EDITIONS" constraintName="FK_EDITION_GENERE" deferrable="false" initiallyDeferred="false" referencedColumnNames="GENERE_ID" referencedTableName="GENERES" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-20">
        <addForeignKeyConstraint baseColumnNames="EDITION_ID" baseTableName="BOOKS" constraintName="FK_BOOK_EDITION" deferrable="false" initiallyDeferred="false" referencedColumnNames="EDITION_ID" referencedTableName="EDITIONS" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-21">
        <addForeignKeyConstraint baseColumnNames="READER_ID" baseTableName="BOOK_USINGS" constraintName="FK_READER_BOOK_USING" deferrable="false" initiallyDeferred="false" referencedColumnNames="READER_ID" referencedTableName="READERS" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-22">
        <addForeignKeyConstraint baseColumnNames="PUPL_LANG_ID" baseTableName="EDITIONS" constraintName="FK_EDITION_PUBL_LANG" deferrable="false" initiallyDeferred="false" referencedColumnNames="LANG_ID" referencedTableName="LANGS" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-23">
        <addForeignKeyConstraint baseColumnNames="EDITION_ID" baseTableName="ORDERS" constraintName="FK_ORDER_EDITION" deferrable="false" initiallyDeferred="false" referencedColumnNames="EDITION_ID" referencedTableName="EDITIONS" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-24">
        <addForeignKeyConstraint baseColumnNames="BOOK_ID" baseTableName="BOOK_USINGS" constraintName="FK_BOOK_BOOK_USING" deferrable="false" initiallyDeferred="false" referencedColumnNames="BOOK_ID" referencedTableName="BOOKS" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-25">
        <addForeignKeyConstraint baseColumnNames="PUBLISHING_HOUSE_ID" baseTableName="EDITIONS" constraintName="FK_EDITION_PUBLISHING_HOUSE" deferrable="false" initiallyDeferred="false" referencedColumnNames="PUBLISHING_HOUSE_ID" referencedTableName="PUBLISHING_HOUSES" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-26">
        <addForeignKeyConstraint baseColumnNames="EDITION_ID" baseTableName="AUTHOR_EDITION" constraintName="FK_AUTHOR_EDITION_EDITION" deferrable="false" initiallyDeferred="false" referencedColumnNames="EDITION_ID" referencedTableName="EDITIONS" validate="true"/>
    </changeSet>
    <changeSet author="owle8 (generated)" id="1588065169526-27">
        <addForeignKeyConstraint baseColumnNames="SECTION_ID" baseTableName="EDITIONS" constraintName="FK_EDITION_SECTION" deferrable="false" initiallyDeferred="false" referencedColumnNames="SECTION_ID" referencedTableName="SECTIONS" validate="true"/>
    </changeSet>
</databaseChangeLog>
